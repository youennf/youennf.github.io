Note: If your browser limits the number of handler registration requests on a page, you might need to disable or significantly increase that limit for the tests below to run.


FAIL the registerProtocolHandler method should exist on the navigator object assert_idl_attribute: property "registerProtocolHandler" not found in prototype chain(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
http://localhost:8800/resources/testharness.js:553:19
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:19:23
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:18:5)
FAIL a handler with valid arguments should work undefined is not a function (evaluating 'navigator.registerProtocolHandler('tel', location.href + '/%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:23:35
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:22:5)
FAIL a relative URL should work undefined is not a function (evaluating 'navigator.registerProtocolHandler('tel', '%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:29:35
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:28:5)
FAIL a URL with a fragment identifier should work undefined is not a function (evaluating 'navigator.registerProtocolHandler('tel', location.href + '#%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:33:35
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:32:5)
FAIL a URL with a query string should work undefined is not a function (evaluating 'navigator.registerProtocolHandler('tel', location.href + '?foo=%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:37:35
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:36:5)
FAIL a URL with a multi-argument query string should work undefined is not a function (evaluating 'navigator.registerProtocolHandler('tel', location.href + '?foo=%s&bar', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:41:35
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:40:5)
FAIL a URL with the passed string as a directory name should work undefined is not a function (evaluating 'navigator.registerProtocolHandler('tel', location.href + '/%s/bar/baz/', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:45:35
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:44:5)
FAIL a URL with the passed string as a directory name followed by a query string and fragment identifier should work undefined is not a function (evaluating 'navigator.registerProtocolHandler('tel', location.href + '/%s/bar/baz/?foo=1337&bar#baz', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:49:35
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:48:5)
FAIL a URL with the passed string included twice should work undefined is not a function (evaluating 'navigator.registerProtocolHandler('tel', location.href + '/%s/foo/%s/', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:53:35
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:52:5)
FAIL an empty url argument should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerProtocolHandler('mailto',..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:57:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:56:5)
FAIL %s instead of domain name should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerProtocolHandler('mailto',..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:61:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:60:5)
FAIL %s instead of subdomain name should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerProtocolHandler('mailto',..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:65:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:64:5)
FAIL a url argument without %s should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerProtocolHandler('mailto',..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:69:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:68:5)
FAIL a url argument pointing to a different domain name, without %s should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerProtocolHandler('mailto',..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:73:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:72:5)
FAIL a url argument without %s (but with %) should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerProtocolHandler('mailto',..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:77:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:76:5)
FAIL a url argument without %s (but with %a) should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerProtocolHandler('mailto',..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:81:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:80:5)
FAIL a url argument pointing to a different domain name should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler('mailto',..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:85:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:84:5)
FAIL a url argument pointing to a different domain name should throw SECURITY_ERR (2) assert_throws: function "function () { navigator.registerProtocolHandler('mailto',..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:89:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:88:5)
FAIL a url argument pointing to a different domain name should throw SECURITY_ERR (3) assert_throws: function "function () { navigator.registerProtocolHandler('mailto',..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:93:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:92:5)
FAIL looping handlers should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler('mailto',..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:97:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:96:5)
FAIL a url argument pointing to a non-http[s] scheme should throw SECURITY_ERR due to not being of the same origin assert_throws: function "function () { navigator.registerProtocolHandler('sms', 't..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:101:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:100:5)
FAIL a protocol argument containing an unrecognized scheme should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler('unrecogn..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:106:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:105:5)
FAIL a protocol argument containing : should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerProtocolHandler('mailto:'..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:110:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:109:5)
FAIL a protocol argument containing :// should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerProtocolHandler('mailto:/..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:114:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:113:5)
FAIL a protocol argument containing http:// should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerProtocolHandler('http://'..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:118:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:117:5)
FAIL a protocol argument containing a null character should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerProtocolHandler('mailto' ..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:122:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:121:5)
FAIL a protocol argument containing a backspace character should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerProtocolHandler('mailtoo'..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:126:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:125:5)
FAIL a protocol argument containing a LF character should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerProtocolHandler('mailto' ..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:130:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:129:5)
FAIL a protocol argument containing non-alphanumeric characters (like a cyrillic “а”) should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerProtocolHandler('mаilto',..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:134:15
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:133:5)
FAIL a protocol argument of “TEL” should be equivalent to “tel” undefined is not a function (evaluating 'navigator.registerProtocolHandler('TEL', location.href + '/%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:138:35
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:137:5)
FAIL a protocol argument of “teL” should be equivalent to “tel” undefined is not a function (evaluating 'navigator.registerProtocolHandler('teL', location.href + '/%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:142:35
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:141:5)
FAIL attempting to override the about protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the attachment protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the blob protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the chrome protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the cid protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the data protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the file protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the ftp protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the http protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the https protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the javascript protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the livescript protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the mid protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the mocha protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the opera protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the operamail protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the res protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the resource protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the shttp protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the tcl protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the vbscript protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the view-source protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the ws protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the wss protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL attempting to override the wyciwyg protocol should throw SECURITY_ERR assert_throws: function "function () { navigator.registerProtocolHandler(blacklist..." threw object "TypeError: undefined is not a function (evaluating 'navig..." that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18(stack: assert@http://localhost:8800/resources/testharness.js:1738:42
assert_throws@http://localhost:8800/resources/testharness.js:682:23
http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:178:16
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:177:6)
FAIL overriding the geo protocol should work undefined is not a function (evaluating 'navigator.registerProtocolHandler(whitelist[wi], location.href + '/%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:206:36
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:205:6)
FAIL overriding the im protocol should work undefined is not a function (evaluating 'navigator.registerProtocolHandler(whitelist[wi], location.href + '/%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:206:36
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:205:6)
FAIL overriding the irc protocol should work undefined is not a function (evaluating 'navigator.registerProtocolHandler(whitelist[wi], location.href + '/%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:206:36
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:205:6)
FAIL overriding the ircs protocol should work undefined is not a function (evaluating 'navigator.registerProtocolHandler(whitelist[wi], location.href + '/%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:206:36
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:205:6)
FAIL overriding the mailto protocol should work undefined is not a function (evaluating 'navigator.registerProtocolHandler(whitelist[wi], location.href + '/%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:206:36
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:205:6)
FAIL overriding the mms protocol should work undefined is not a function (evaluating 'navigator.registerProtocolHandler(whitelist[wi], location.href + '/%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:206:36
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:205:6)
FAIL overriding the news protocol should work undefined is not a function (evaluating 'navigator.registerProtocolHandler(whitelist[wi], location.href + '/%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:206:36
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:205:6)
FAIL overriding the nntp protocol should work undefined is not a function (evaluating 'navigator.registerProtocolHandler(whitelist[wi], location.href + '/%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:206:36
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:205:6)
FAIL overriding the sms protocol should work undefined is not a function (evaluating 'navigator.registerProtocolHandler(whitelist[wi], location.href + '/%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:206:36
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:205:6)
FAIL overriding the smsto protocol should work undefined is not a function (evaluating 'navigator.registerProtocolHandler(whitelist[wi], location.href + '/%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:206:36
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:205:6)
FAIL overriding the tel protocol should work undefined is not a function (evaluating 'navigator.registerProtocolHandler(whitelist[wi], location.href + '/%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:206:36
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:205:6)
FAIL overriding the urn protocol should work undefined is not a function (evaluating 'navigator.registerProtocolHandler(whitelist[wi], location.href + '/%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:206:36
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:205:6)
FAIL overriding the webcal protocol should work undefined is not a function (evaluating 'navigator.registerProtocolHandler(whitelist[wi], location.href + '/%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:206:36
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:205:6)
FAIL overriding the wtai protocol should work undefined is not a function (evaluating 'navigator.registerProtocolHandler(whitelist[wi], location.href + '/%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:206:36
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:205:6)
FAIL overriding the xmpp protocol should work undefined is not a function (evaluating 'navigator.registerProtocolHandler(whitelist[wi], location.href + '/%s', 'foo')')(stack: http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:206:36
step@http://localhost:8800/resources/testharness.js:798:30
test@http://localhost:8800/resources/testharness.js:73:22
global code@http://localhost:8800/html/webappapis/system-state-and-capabilities/the-navigator-object/protocol.html:205:6)

